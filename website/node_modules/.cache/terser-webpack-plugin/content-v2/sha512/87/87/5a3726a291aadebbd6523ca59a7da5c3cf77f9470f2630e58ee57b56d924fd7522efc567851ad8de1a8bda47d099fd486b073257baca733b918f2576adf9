{"map":"{\"version\":3,\"sources\":[\"js/chunk-2d2302c3.080f23d6.js\"],\"names\":[\"window\",\"push\",\"eac4\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"staticClass\",\"attrs\",\"id\",\"responsive\",\"fixed\",\"items\",\"elasticsearch_data\",\"per-page\",\"perPage\",\"current-page\",\"currentPage\",\"fields\",\"sort-by\",\"sortBy\",\"scopedSlots\",\"_u\",\"key\",\"fn\",\"data\",\"variant\",\"on\",\"click\",\"$event\",\"setPlayerTime\",\"item\",\"EndTimestamp\",\"StartTimestamp\",\"_v\",\"_s\",\"Index\",\"align\",\"total-rows\",\"rows\",\"aria-controls\",\"model\",\"value\",\"callback\",\"$$v\",\"expression\",\"type\",\"saveFile\",\"staticRenderFns\",\"asyncToGenerator\",\"objectSpread2\",\"Loading\",\"vuex_esm\",\"ShotDetectionvue_type_script_lang_js_\",\"name\",\"components\",\"props\",\"mediaType\",\"String\",\"default\",\"endTimestamp\",\"label\",\"sortable\",\"StartTimecodeSMPTE\",\"EndTimecodeSMPTE\",\"DurationSMPTE\",\"isBusy\",\"operator\",\"computed\",\"Object\",\"length\",\"watch\",\"current_time\",\"time\",\"player\",\"pause\",\"deactivated\",\"console\",\"log\",\"activated\",\"fetchAssetData\",\"beforeDestroy\",\"methods\",\"endMillisenconds\",\"startMilliseconds\",\"seconds\",\"currentTime\",\"play\",\"JSON\",\"stringify\",\"blob\",\"Blob\",\"e\",\"document\",\"createEvent\",\"a\",\"createElement\",\"download\",\"href\",\"URL\",\"createObjectURL\",\"dataset\",\"downloadurl\",\"join\",\"initEvent\",\"dispatchEvent\",\"_this\",\"regeneratorRuntime\",\"mark\",\"_callee\",\"query\",\"apiName\",\"path\",\"apiParams\",\"response\",\"es_data\",\"result\",\"i\",\"len\",\"wrap\",\"_context\",\"prev\",\"next\",\"$route\",\"params\",\"asset_id\",\"headers\",\"Content-Type\",\"queryStringParameters\",\"q\",\"default_operator\",\"size\",\"$Amplify\",\"API\",\"get\",\"sent\",\"showElasticSearchAlert\",\"hits\",\"Confidence\",\"lowerConfidence\",\"lowerConfidenceMessage\",\"_source\",\"parse\",\"stop\",\"components_ShotDetectionvue_type_script_lang_js_\",\"componentNormalizer\",\"component\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d2302c3\"],{eac4:function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[e.isBusy?a(\"div\",{staticClass:\"wrapper\"},[a(\"Loading\")],1):a(\"div\",{staticClass:\"wrapper\"},[a(\"b-table\",{attrs:{id:\"shotTable\",responsive:\"\",fixed:\"\",items:e.elasticsearch_data,\"per-page\":e.perPage,\"current-page\":e.currentPage,fields:e.fields,\"sort-by\":e.sortBy},scopedSlots:e._u([{key:\"cell(Index)\",fn:function(t){return[a(\"b-button\",{attrs:{variant:\"link\"},on:{click:function(a){return e.setPlayerTime(t.item.EndTimestamp,t.item.StartTimestamp)}}},[e._v(\" \\n          \"+e._s(t.item.Index)+\"\\n        \")])]}}])}),a(\"b-pagination\",{attrs:{align:\"center\",\"per-page\":e.perPage,\"total-rows\":e.rows,\"aria-controls\":\"shotTable\"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:\"currentPage\"}}),a(\"b-button\",{attrs:{type:\"button\"},on:{click:function(t){return e.saveFile()}}},[e._v(\"\\n      Download Data\\n    \")])],1)])},r=[],s=a(\"1da1\"),i=a(\"5530\"),o=(a(\"96cf\"),a(\"d3b7\"),a(\"3ca3\"),a(\"ddb0\"),a(\"2b3d\"),a(\"9861\"),a(\"a15b\"),a(\"3a5e\")),c=a(\"2f62\"),l={name:\"ShotDetection\",components:{Loading:o[\"a\"]},props:{mediaType:{type:String,default:\"\"}},data:function(){return{sortBy:\"Index\",currentPage:1,perPage:10,endTimestamp:null,fields:[{Index:{label:\"Shot Number\",sortable:!0}},{StartTimecodeSMPTE:{label:\"Start\",sortable:!1}},{EndTimecodeSMPTE:{label:\"End\",sortable:!1}},{DurationSMPTE:{label:\"Duration\",sortable:!0}},{key:\"Confidence\",sortable:!0}],elasticsearch_data:[],isBusy:!1,operator:\"shot_detection\"}},computed:Object(i[\"a\"])(Object(i[\"a\"])(Object(i[\"a\"])({},Object(c[\"b\"])([\"player\"])),Object(c[\"b\"])([\"current_time\"])),{},{rows:function(){return this.elasticsearch_data.length}}),watch:{current_time:function(e){null!=this.endTimestamp&&(e==this.endTimestamp||e>this.endTimestamp)&&(this.player.pause(),this.endTimestamp=null)}},deactivated:function(){console.log(\"deactivated component:\",this.operator)},activated:function(){console.log(\"activated component:\",this.operator),this.fetchAssetData()},beforeDestroy:function(){this.elasticsearch_data=[]},methods:{setPlayerTime:function(e,t){this.endTimestamp=e/1e3;var a=t/1e3;this.player.currentTime(a),this.player.play()},saveFile:function(){var e=JSON.stringify(this.elasticsearch_data),t=new Blob([e],{type:\"text/plain\"}),a=document.createEvent(\"MouseEvents\"),n=document.createElement(\"a\");n.download=\"data.json\",n.href=window.URL.createObjectURL(t),n.dataset.downloadurl=[\"text/json\",n.download,n.href].join(\":\"),a.initEvent(\"click\",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(a)},fetchAssetData:function(){var e=this;return Object(s[\"a\"])(regeneratorRuntime.mark((function t(){var a,n,r,s,i,o,c,l,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=\"AssetId:\"+e.$route.params.asset_id+\" Operator:\"+e.operator,n=\"contentAnalysisElasticsearch\",r=\"/_search\",s={headers:{\"Content-Type\":\"application/json\"},queryStringParameters:{q:a,default_operator:\"AND\",size:1e4}},t.next=6,e.$Amplify.API.get(n,r,s);case 6:if(i=t.sent,console.log(i),i){t.next=12;break}e.showElasticSearchAlert=!0,t.next=20;break;case 12:return o=[],t.next=15,i;case 15:if(c=t.sent,l=c.hits.hits,0===l.length&&e.Confidence>55)e.lowerConfidence=!0,e.lowerConfidenceMessage=\"Try lowering confidence threshold\";else for(e.lowerConfidence=!1,d=0,u=l.length;d<u;d++)o.push(l[d]._source);e.elasticsearch_data=JSON.parse(JSON.stringify(o)),e.isBusy=!1;case 20:case\"end\":return t.stop()}}),t)})))()}}},d=l,u=a(\"2877\"),p=Object(u[\"a\"])(d,n,r,!1,null,null,null);t[\"default\"]=p.exports}}]);","extractedComments":[]}