{"remainingRequest":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/babel-loader/lib/index.js!/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ianwow/development/aws-content-analysis/source/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ianwow/development/aws-content-analysis/source/website/src/components/Translation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ianwow/development/aws-content-analysis/source/website/src/components/Translation.vue","mtime":1623875433280},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1633407346687},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/babel-loader/lib/index.js","mtime":1633407348173},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1633407346687},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/vue-loader/lib/index.js","mtime":1633407348650}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9pYW53b3cvZGV2ZWxvcG1lbnQvYXdzLWNvbnRlbnQtYW5hbHlzaXMvc291cmNlL3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVHJhbnNsYXRpb24iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0cmFuc2xhdGVkX3RleHQ6ICIiLAogICAgICBzb3VyY2VfbGFuZ3VhZ2U6ICIiLAogICAgICB0YXJnZXRfbGFuZ3VhZ2U6ICIiLAogICAgICBpc0J1c3k6IGZhbHNlLAogICAgICBvcGVyYXRvcjogInRyYW5zbGF0aW9uIiwKICAgICAgbm9UcmFuc2xhdGlvbjogZmFsc2UKICAgIH07CiAgfSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnZGVhY3RpdmF0ZWQgY29tcG9uZW50OicsIHRoaXMub3BlcmF0b3IpOwogIH0sCiAgYWN0aXZhdGVkOiBmdW5jdGlvbiBhY3RpdmF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnYWN0aXZhdGVkIGNvbXBvbmVudDonLCB0aGlzLm9wZXJhdG9yKTsKICAgIHRoaXMuZmV0Y2hBc3NldERhdGEoKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLnRyYW5zbGF0ZWRfdGV4dCA9ICIiOwogICAgdGhpcy5zb3VyY2VfbGFuZ3VhZ2UgPSAiIjsKICAgIHRoaXMudGFyZ2V0X2xhbmd1YWdlID0gIiI7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaEFzc2V0RGF0YTogZnVuY3Rpb24gZmV0Y2hBc3NldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBxdWVyeSwgYXBpTmFtZSwgcGF0aCwgYXBpUGFyYW1zLCByZXNwb25zZSwgcmVzdWx0LCBkYXRhLCBpLCBsZW47CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcXVlcnkgPSAnQXNzZXRJZDonICsgX3RoaXMuJHJvdXRlLnBhcmFtcy5hc3NldF9pZCArICcgX2luZGV4Om1pZXRyYW5zbGF0aW9uJzsKICAgICAgICAgICAgICAgIGFwaU5hbWUgPSAnY29udGVudEFuYWx5c2lzRWxhc3RpY3NlYXJjaCc7CiAgICAgICAgICAgICAgICBwYXRoID0gJy9fc2VhcmNoJzsKICAgICAgICAgICAgICAgIGFwaVBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgcXVlcnlTdHJpbmdQYXJhbWV0ZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ3EnOiBxdWVyeSwKICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdF9vcGVyYXRvcic6ICdBTkQnLAogICAgICAgICAgICAgICAgICAgICdzaXplJzogMTAwMDAKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRBbXBsaWZ5LkFQSS5nZXQoYXBpTmFtZSwgcGF0aCwgYXBpUGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLnNob3dFbGFzdGljU2VhcmNoQWxlcnQgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IHJlc3VsdC5oaXRzLmhpdHM7CgogICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm5vVHJhbnNsYXRpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMubm9UcmFuc2xhdGlvbiA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnRyYW5zbGF0ZWRfdGV4dCA9IGRhdGFbaV0uX3NvdXJjZS5UcmFuc2xhdGVkVGV4dDsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb3VyY2VfbGFuZ3VhZ2UgPSBkYXRhW2ldLl9zb3VyY2UuU291cmNlTGFuZ3VhZ2VDb2RlOwogICAgICAgICAgICAgICAgICAgIF90aGlzLnRhcmdldF9sYW5ndWFnZSA9IGRhdGFbaV0uX3NvdXJjZS5UYXJnZXRMYW5ndWFnZUNvZGU7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5pc0J1c3kgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Translation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,eAAA,EAAA,EADA;AAEA,MAAA,eAAA,EAAA,EAFA;AAGA,MAAA,eAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA,KAJA;AAKA,MAAA,QAAA,EAAA,aALA;AAMA,MAAA,aAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,WAAA,EAAA,uBAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,wBAAA,EAAA,KAAA,QAAA;AACA,GAdA;AAeA,EAAA,SAAA,EAAA,qBAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,sBAAA,EAAA,KAAA,QAAA;AACA,SAAA,cAAA;AACA,GAlBA;AAmBA,EAAA,aAAA,EAAA,yBAAA;AACA,SAAA,eAAA,GAAA,EAAA;AACA,SAAA,eAAA,GAAA,EAAA;AACA,SAAA,eAAA,GAAA,EAAA;AACA,GAvBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KADA,GACA,aAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA,GAAA,wBADA;AAEA,gBAAA,OAFA,GAEA,8BAFA;AAGA,gBAAA,IAHA,GAGA,UAHA;AAIA,gBAAA,SAJA,GAIA;AACA,kBAAA,OAAA,EAAA;AAAA,oCAAA;AAAA,mBADA;AAEA,kBAAA,qBAAA,EAAA;AAAA,yBAAA,KAAA;AAAA,wCAAA,KAAA;AAAA,4BAAA;AAAA;AAFA,iBAJA;AAAA;AAAA,uBAQA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,GAAA,CAAA,OAAA,EAAA,IAAA,EAAA,SAAA,CARA;;AAAA;AAQA,gBAAA,QARA;;AAAA,oBASA,QATA;AAAA;AAAA;AAAA;;AAUA,gBAAA,KAAA,CAAA,sBAAA,GAAA,IAAA;AAVA;AAAA;;AAAA;AAAA;AAAA,uBAaA,QAbA;;AAAA;AAaA,gBAAA,MAbA;AAcA,gBAAA,IAdA,GAcA,MAAA,CAAA,IAAA,CAAA,IAdA;;AAeA,oBAAA,IAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,aAAA,GAAA,IAAA;AACA,iBAFA,MAGA;AACA,kBAAA,KAAA,CAAA,aAAA,GAAA,KAAA;;AACA,uBAAA,CAAA,GAAA,CAAA,EAAA,GAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAAA,GAAA,GAAA,EAAA,CAAA,EAAA,EAAA;AACA,oBAAA,KAAA,CAAA,eAAA,GAAA,IAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,cAAA;AACA,oBAAA,KAAA,CAAA,eAAA,GAAA,IAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,kBAAA;AACA,oBAAA,KAAA,CAAA,eAAA,GAAA,IAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,kBAAA;AACA;AACA;;AACA,gBAAA,KAAA,CAAA,MAAA,GAAA,KAAA;;AA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA;AA7BA;AAxBA,CAAA","sourcesContent":["<template>\n  <div>\n    <div v-if=\"noTranslation === true\">\n      No translation found for this asset\n    </div>\n    <div\n      v-if=\"isBusy\"\n      class=\"wrapper\"\n    >\n      <b-spinner\n        variant=\"secondary\"\n        label=\"Loading...\"\n      />\n      <p class=\"text-muted\">\n        (Loading...)\n      </p>\n    </div>\n    <div\n      v-else-if=\"noTranslation === false\"\n      class=\"wrapper\"\n    >\n      <label>Source Language:</label> {{ source_language }}<br>\n      <label>Target Language:</label> {{ target_language }}<br>\n      {{ translated_text }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Translation\",\n  data() {\n    return {\n      translated_text: \"\",\n      source_language: \"\",\n      target_language: \"\",\n      isBusy: false,\n      operator: \"translation\",\n      noTranslation: false\n    }\n  },\n  deactivated: function () {\n    console.log('deactivated component:', this.operator)\n  },\n  activated: function () {\n    console.log('activated component:', this.operator);\n    this.fetchAssetData();\n  },\n  beforeDestroy: function () {\n      this.translated_text = \"\";\n      this.source_language = \"\";\n      this.target_language = \"\";\n    },\n  methods: {\n    async fetchAssetData () {\n      let query = 'AssetId:'+this.$route.params.asset_id+ ' _index:mietranslation';\n      let apiName = 'contentAnalysisElasticsearch';\n      let path = '/_search';\n      let apiParams = {\n        headers: {'Content-Type': 'application/json'},\n        queryStringParameters: {'q': query, 'default_operator': 'AND', 'size': 10000}\n      };\n      let response = await this.$Amplify.API.get(apiName, path, apiParams);\n      if (!response) {\n        this.showElasticSearchAlert = true\n      }\n      else {\n        let result = await response;\n        let data = result.hits.hits;\n        if (data.length === 0) {\n          this.noTranslation = true\n        }\n        else {\n          this.noTranslation = false;\n          for (let i = 0, len = data.length; i < len; i++) {\n            this.translated_text = data[i]._source.TranslatedText;\n            this.source_language = data[i]._source.SourceLanguageCode;\n            this.target_language = data[i]._source.TargetLanguageCode\n          }\n        }\n        this.isBusy = false\n      }\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components"}]}