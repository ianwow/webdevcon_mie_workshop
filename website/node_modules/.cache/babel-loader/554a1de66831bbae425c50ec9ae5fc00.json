{"remainingRequest":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/babel-loader/lib/index.js!/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ianwow/development/aws-content-analysis/source/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ianwow/development/aws-content-analysis/source/website/src/components/VideoPlayer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ianwow/development/aws-content-analysis/source/website/src/components/VideoPlayer.vue","mtime":1642006298176},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1633407346687},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/babel-loader/lib/index.js","mtime":1633407348173},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1633407346687},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/vue-loader/lib/index.js","mtime":1633407348650}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHZpZGVvanMgZnJvbSAndmlkZW8uanMnOwppbXBvcnQgJ0AvLi4vbm9kZV9tb2R1bGVzL3ZpZGVvLmpzL2Rpc3QvdmlkZW8tanMuY3NzJzsKaW1wb3J0ICdALy4uL25vZGVfbW9kdWxlcy92aWRlb2pzLW1hcmtlcnMvZGlzdC92aWRlb2pzLm1hcmtlcnMuY3NzJzsKaW1wb3J0ICdALy4uL25vZGVfbW9kdWxlcy92aWRlb2pzLW1hcmtlcnMvZGlzdC92aWRlb2pzLW1hcmtlcnMuanMnOwppbXBvcnQgJ0AvLi4vbm9kZV9tb2R1bGVzL3ZpZGVvanMtaG90a2V5cy9idWlsZC92aWRlb2pzLmhvdGtleXMubWluLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdWaWRlb1BsYXllcicsCiAgcHJvcHM6IHsKICAgIG9wdGlvbnM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2aWRlb191cmw6ICcnLAogICAgICBwbGF5ZXI6IG51bGwKICAgIH07CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMucGxheWVyKSB7CiAgICAgIHRoaXMucGxheWVyLmRpc3Bvc2UoKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVQbGF5ZXInLCBudWxsKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnZpZGVvX3VybCA9IHRoaXMub3B0aW9ucy5zb3VyY2VzWzBdLnNyYzsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMucGxheWVyID0gdmlkZW9qcyh0aGlzLiRyZWZzLnZpZGVvUGxheWVyLCB7CiAgICAgIHBsYXliYWNrUmF0ZXM6IFswLjUsIDEsIDEuNSwgMl0KICAgIH0pOwogICAgdGhpcy5wbGF5ZXIucmVhZHkoZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5wbGF5ZXIuaG90a2V5cyh7CiAgICAgICAgdm9sdW1lU3RlcDogMC4xLAogICAgICAgIHNlZWtTdGVwOiAxLAogICAgICAgIGVuYWJsZVZvbHVtZVNjcm9sbDogZmFsc2UsCiAgICAgICAgZW5hYmxlTnVtYmVyczogZmFsc2UsCiAgICAgICAgZW5hYmxlTW9kaWZpZXJzRm9yTnVtYmVyczogZmFsc2UKICAgICAgfSk7CgogICAgICBfdGhpcy5wbGF5ZXIubG9vcCh0cnVlKTsKCiAgICAgIF90aGlzLnBsYXllci5tYXJrZXJzKHsKICAgICAgICBicmVha092ZXJsYXk6IHsKICAgICAgICAgIGRpc3BsYXk6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICBtYXJrZXJUaXA6IHsKICAgICAgICAgIGRpc3BsYXk6IHRydWUsCiAgICAgICAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KG1hcmtlcikgewogICAgICAgICAgICByZXR1cm4gbWFya2VyLnRleHQ7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtYXJrZXJzOiBbXQogICAgICB9KTsgLy8gU2V0IHBsYXllciB0aW1lIHRvIDIgc2Vjb25kIG1hcmsgaW4gb3JkZXIgdG8gYXZvaWQgYSBibGFjayBwb3N0ZXIgaW1hZ2UgZm9yCiAgICAgIC8vIHZpZGVvcyB0aGF0IGJlZ2luIHdpdGggYSBmYWRlIGZyb20gYmxhY2suCgoKICAgICAgX3RoaXMucGxheWVyLmN1cnJlbnRUaW1lKDIpOwoKICAgICAgdmFyIHZtID0gX3RoaXM7CgogICAgICBfdGhpcy5wbGF5ZXIub24oJ3RpbWV1cGRhdGUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy5jdXJyZW50VGltZSgpOwogICAgICAgIHZtLiRzdG9yZS5jb21taXQoJ3VwZGF0ZUN1cnJlbnRUaW1lJywgY3VycmVudFRpbWUpOwogICAgICB9KTsKCiAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3VwZGF0ZVBsYXllcicsIF90aGlzLnBsYXllcik7CiAgICB9KTsKICAgIHRoaXMucGxheWVyLm9uKCdsb2FkZWRkYXRhJywgZnVuY3Rpb24gKCkgewogICAgICAvLyBTZXQgY2FudmFzIHNpemUgdG8gdmlkZW9QbGF5ZXIgc2l6ZQogICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpOwogICAgICB2YXIgdmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlkZW9QbGF5ZXInKTsKICAgICAgY2FudmFzLndpZHRoID0gdmlkZW8uY2xpZW50V2lkdGg7CiAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWRlby5jbGllbnRIZWlnaHQ7CiAgICB9KTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJyZXNpemUiKTsgLy8gVXBkYXRlIGNhbnZhcyBzaXplIHdoZW4gd2luZG93IGlzIHJlc2l6ZWQKCiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7CiAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlb1BsYXllcicpOwogICAgICBjYW52YXMud2lkdGggPSB2aWRlby5jbGllbnRXaWR0aDsKICAgICAgY2FudmFzLmhlaWdodCA9IHZpZGVvLmNsaWVudEhlaWdodDsKICAgIH0pOwogIH0sCiAgYmVmb3JlVXBkYXRlOiBmdW5jdGlvbiBiZWZvcmVVcGRhdGUoKSB7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VwZGF0ZVBsYXllcicsIHRoaXMucGxheWVyKTsKICB9Cn07"},{"version":3,"sources":["VideoPlayer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <b-container fluid>\n    <video\n      id=\"videoPlayer\"\n      ref=\"videoPlayer\"\n      width=\"600\"\n      height=\"300\"\n      data-setup=\"{ &quot;inactivityTimeout&quot;: 0 }\"\n      class=\"video-js vjs-fluid vjs-default-skin\"\n      controls\n      playsinline\n    >\n      <source\n        :src=\"video_url\"\n        type=\"video/mp4\"\n      >\n    </video>\n    <canvas\n      id=\"canvas\"\n      class=\"canvas\"\n    />\n  </b-container>\n</template>\n\n<script>\nimport videojs from 'video.js'\nimport '@/../node_modules/video.js/dist/video-js.css'\nimport '@/../node_modules/videojs-markers/dist/videojs.markers.css'\nimport '@/../node_modules/videojs-markers/dist/videojs-markers.js'\nimport '@/../node_modules/videojs-hotkeys/build/videojs.hotkeys.min.js'\n\nexport default {\n  name: 'VideoPlayer',\n  props: {\n    options: {\n      type: Object,\n      default() {\n        return {};\n      }\n    }\n  },\n  data: function () {\n    return {\n      video_url: '',\n      player: null\n    }\n  },\n  beforeDestroy() {\n    if (this.player) {\n      this.player.dispose();\n      this.$store.commit('updatePlayer', null)\n    }\n  },\n  created() {\n    this.video_url = this.options.sources[0].src;\n  },\n  mounted: function () {\n    this.player = videojs(this.$refs.videoPlayer, {  playbackRates: [0.5, 1, 1.5, 2] });\n    this.player.ready(() => {\n      this.player.hotkeys({\n        volumeStep: 0.1,\n        seekStep: 1,\n        enableVolumeScroll: false,\n        enableNumbers: false,\n        enableModifiersForNumbers: false\n      });\n      this.player.loop(true);\n      this.player.markers({\n        breakOverlay: {\n          display: false,\n        },\n        markerTip: {\n          display: true,\n          text: function (marker) {\n            return marker.text;\n          }\n        },\n        markers: []\n      });\n      // Set player time to 2 second mark in order to avoid a black poster image for\n      // videos that begin with a fade from black.\n      this.player.currentTime(2);\n      let vm = this\n      this.player.on('timeupdate', function() {\n        let currentTime = this.currentTime()\n        vm.$store.commit('updateCurrentTime', currentTime)\n      });\n      this.$store.commit('updatePlayer', this.player);\n    });\n    this.player.on('loadeddata', function() {\n      // Set canvas size to videoPlayer size\n      const canvas = document.getElementById('canvas');\n      const video = document.getElementById('videoPlayer');\n      canvas.width = video.clientWidth;\n      canvas.height = video.clientHeight;\n    });\n    window.addEventListener('resize', function () {\n      console.log(\"resize\")\n      // Update canvas size when window is resized\n      const canvas = document.getElementById('canvas');\n      const video = document.getElementById('videoPlayer');\n      canvas.width = video.clientWidth;\n      canvas.height = video.clientHeight;\n    });\n  },\n  beforeUpdate: function () {\n    this.$store.commit('updatePlayer', this.player)\n  }\n}\n</script>\n\n<style>\n  .video-js .vjs-current-time, .vjs-no-flex .vjs-current-time {\n    display: block; }\n</style>\n<style scoped>\n  .canvas {\n    position: absolute;\n    top: 0;\n    left: 30px;\n    /*background-color:rgba(255,0,0,0.5);*/\n    pointer-events: none;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}