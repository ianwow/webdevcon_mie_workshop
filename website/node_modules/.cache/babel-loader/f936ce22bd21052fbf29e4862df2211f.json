{"remainingRequest":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/thread-loader/dist/cjs.js!/Users/ianwow/development/aws-content-analysis/source/website/node_modules/babel-loader/lib/index.js!/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ianwow/development/aws-content-analysis/source/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ianwow/development/aws-content-analysis/source/website/src/components/LineChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ianwow/development/aws-content-analysis/source/website/src/components/LineChart.vue","mtime":1623875433274},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1633407346687},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/thread-loader/dist/cjs.js","mtime":1633407346686},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/babel-loader/lib/index.js","mtime":1633407348173},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1633407346687},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/vue-loader/lib/index.js","mtime":1633407348650}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2lhbndvdy9kZXZlbG9wbWVudC9hd3MtY29udGVudC1hbmFseXNpcy9zb3VyY2Uvd2Vic2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBDaGFydCBmcm9tICdjaGFydC5qcyc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGluZUNoYXJ0IiwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nOiBMb2FkaW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZHVyYXRpb246IHVuZGVmaW5lZCwKICAgICAgY2hhcnRDb25maWc6IHt9LAogICAgICBjaGFydDogdW5kZWZpbmVkLAogICAgICBpc0J1c3k6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsnY2hhcnRfdHVwbGVzJywgJ3NlbGVjdGVkX2xhYmVsJywgJ3BsYXllciddKSksCiAgd2F0Y2g6IHsKICAgIGNoYXJ0X3R1cGxlczogZnVuY3Rpb24gY2hhcnRfdHVwbGVzKCkgewogICAgICB0aGlzLnJlbmRlckxpbmVDaGFydCgpOwogICAgfSwKICAgIHBsYXllcjogZnVuY3Rpb24gcGxheWVyKCkgewogICAgICB0aGlzLmdldER1cmF0aW9uKCk7CiAgICAgIHRoaXMuZ2V0VGltZVVwZGF0ZSgpOwogICAgICB0aGlzLnJlbmRlckxpbmVDaGFydCgpOwogICAgfQogIH0sCiAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGRlYWN0aXZhdGVkKCkgewogICAgY29uc29sZS5sb2coJ2RlYWN0aXZhdGVkIGNvbXBvbmVudDonLCB0aGlzLm9wZXJhdG9yKTsKICAgIHRoaXMuY2hhcnQgPSBPYmplY3Q7CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdhY3RpdmF0ZWQgY29tcG9uZW50OicsIHRoaXMub3BlcmF0b3IpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuY2hhcnQgPSBPYmplY3Q7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5jaGFydENvbmZpZyA9IHsKICAgICAgdHlwZTogJ3NjYXR0ZXInLAogICAgICBkYXRhOiB7CiAgICAgICAgbGFiZWxzOiBbMF0sCiAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICBkYXRhOiBbMF0sCiAgICAgICAgICBib3JkZXJDb2xvcjogIiMzZTk1Y2QiLAogICAgICAgICAgYm9yZGVyV2lkdGg6IDMsCiAgICAgICAgICBmaWxsOiBmYWxzZSwKICAgICAgICAgIHNob3dMaW5lOiBmYWxzZQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgIGRpc3BsYXk6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICB0aXRsZTogewogICAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICAgIHRleHQ6ICcnCiAgICAgICAgfSwKICAgICAgICB0b29sdGlwczogewogICAgICAgICAgZW5hYmxlZDogZmFsc2UKICAgICAgICB9LAogICAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsCiAgICAgICAgYXNwZWN0UmF0aW86IDEuNSwKICAgICAgICBzY2FsZXM6IHsKICAgICAgICAgIHlBeGVzOiBbewogICAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgICBmaXhlZFN0ZXBTaXplOiAxLAogICAgICAgICAgICBzY2FsZUxhYmVsOiB7CiAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICAgICAgICBsYWJlbFN0cmluZzogJ0xhYmVsIFF1YW50aXR5JwogICAgICAgICAgICB9LAogICAgICAgICAgICB0aWNrczogewogICAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLAogICAgICAgICAgICAgIG1pbjogMCwKICAgICAgICAgICAgICBwYWRkaW5nOiAyNSwKICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2sodmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfV0sCiAgICAgICAgICB4QXhlczogW3sKICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICAgICAgc2NhbGVMYWJlbDogewogICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsCiAgICAgICAgICAgICAgbGFiZWxTdHJpbmc6ICdUaW1lIChtbTpzcyknCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRpY2tzOiB7CiAgICAgICAgICAgICAgYmVnaW5BdFplcm86IHRydWUsCiAgICAgICAgICAgICAgbWluUm90YXRpb246IDMwLAogICAgICAgICAgICAgIG1pbjogMCwKICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2sobWlsbGlzZWNvbmRzKSB7CiAgICAgICAgICAgICAgICBpZiAobWlsbGlzZWNvbmRzID49IDM2MDAwMDApIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG1pbGxpc2Vjb25kcykudG9JU09TdHJpbmcoKS5zdWJzdHIoMTEsIDEyKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIC8vIGRyb3AgaG91cnMgcG9ydGlvbiBpZiB0aW1lIGlzIGxlc3MgdGhhbiAxIGhvdXIKICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG1pbGxpc2Vjb25kcykudG9JU09TdHJpbmcoKS5zdWJzdHIoMTQsIDkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkgewogICAgICAvLyBUT0RPOiBzZXQgY2hhcnQgYW5kIGNhbnZhcyB3aWR0aCBlcXVhbCB0byB2aWRlbyBwbGF5ZXIgd2lkdGgKICAgICAgLy8gVE9ETzogbWFrZSBjb2x1bW5zIHJlc2l6ZSBlcXVhbGx5IHdoZW4gcmVzaXppbmcgd2luZG93CiAgICAgIC8vIFVwZGF0ZSBjYW52YXMgc2l6ZSB3aGVuIHdpbmRvdyBpcyByZXNpemVkCiAgICAgIHZhciBjaGFydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW5lQ2hhcnQnKTsKICAgICAgdmFyIGNhbnZhc19vdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZlcnRpY2FsTGluZUNhbnZhcycpOwogICAgICBjYW52YXNfb3ZlcmxheS53aWR0aCA9IGNoYXJ0LndpZHRoOwogICAgICBjYW52YXNfb3ZlcmxheS5oZWlnaHQgPSBjaGFydC5oZWlnaHQ7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkgewogICAgICB2YXIgY2FudmFzX292ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVydGljYWxMaW5lQ2FudmFzJyk7CgogICAgICBpZiAoY2FudmFzX292ZXJsYXkpIHsKICAgICAgICB2YXIgY2hhcnRfd2lkdGggPSB0aGlzLmNoYXJ0LmNoYXJ0LmNoYXJ0QXJlYS5yaWdodCAtIHRoaXMuY2hhcnQuY2hhcnQuY2hhcnRBcmVhLmxlZnQ7CiAgICAgICAgdmFyIGNoYXJ0X2xlZnQgPSB0aGlzLmNoYXJ0LmNoYXJ0LmNoYXJ0QXJlYS5sZWZ0OyAvLyBJZ25vcmUgY2xpY2tzIHRoYXQgYXJlIG9uIHRoZSBjaGFydCBidXQgdG8gdGhlIGxlZnQgb2YgdGhlIHktYXhpcwoKICAgICAgICBpZiAoZXZlbnQub2Zmc2V0WCA8IGNoYXJ0X2xlZnQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmR1cmF0aW9uID4gMCkgewogICAgICAgICAgLy8gQ2FsY3VsYXRlIGNsaWNrIHBvc2l0aW9uIGFzIGEgcGVyY2VudGFnZSBvZiBjaGFydCB3aWR0aCwgdG8gMS8xMHRoIHByZWNpc2lvbi4KICAgICAgICAgIHZhciBwZXJjZW50YWdlID0gTWF0aC5yb3VuZCgoZXZlbnQub2Zmc2V0WCAtIGNoYXJ0X2xlZnQpIC8gY2hhcnRfd2lkdGggKiAxMDAwKSAvIDEwOwogICAgICAgICAgdGhpcy5wbGF5ZXIuY3VycmVudFRpbWUodGhpcy5kdXJhdGlvbiAqIHBlcmNlbnRhZ2UgLyAxMDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdldER1cmF0aW9uOiBmdW5jdGlvbiBnZXREdXJhdGlvbigpIHsKICAgICAgLy8gR2V0IHRoZSBkdXJhdGlvbiBmb3IgdGhlIHZpZGVvIHBsYXllciBzb3VyY2UKICAgICAgaWYgKHRoaXMucGxheWVyKSB7CiAgICAgICAgdGhpcy5wbGF5ZXIub24oJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhpcy5kdXJhdGlvbiA9IHRoaXMucGxheWVyLmR1cmF0aW9uKCk7CiAgICAgICAgfS5iaW5kKHRoaXMpKTsKICAgICAgfQogICAgfSwKICAgIGdldFRpbWVVcGRhdGU6IGZ1bmN0aW9uIGdldFRpbWVVcGRhdGUoKSB7CiAgICAgIC8vIFNlbmQgY3VycmVudCB0aW1lIHBvc2l0aW9uIGZvciB0aGUgdmlkZW8gcGxheWVyIHRvIHZlcnRpY2FsTGluZUNhbnZhcwogICAgICB2YXIgbGFzdF9wb3NpdGlvbiA9IDA7CgogICAgICBpZiAodGhpcy5wbGF5ZXIpIHsKICAgICAgICB0aGlzLnBsYXllci5vbigndGltZXVwZGF0ZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBjdXJyZW50X3Bvc2l0aW9uID0gTWF0aC5yb3VuZCh0aGlzLnBsYXllci5jdXJyZW50VGltZSgpIC8gdGhpcy5wbGF5ZXIuZHVyYXRpb24oKSAqIDEwMDApOwoKICAgICAgICAgIGlmIChjdXJyZW50X3Bvc2l0aW9uICE9PSBsYXN0X3Bvc2l0aW9uKSB7CiAgICAgICAgICAgIHRoaXMuZHJhd1ZlcnRpY2xlTGluZShjdXJyZW50X3Bvc2l0aW9uIC8gMTAwMCk7CiAgICAgICAgICAgIGxhc3RfcG9zaXRpb24gPSBjdXJyZW50X3Bvc2l0aW9uOwogICAgICAgICAgfQogICAgICAgIH0uYmluZCh0aGlzKSk7CiAgICAgIH0KICAgIH0sCiAgICByZW5kZXJMaW5lQ2hhcnQ6IGZ1bmN0aW9uIHJlbmRlckxpbmVDaGFydCgpIHsKICAgICAgdmFyIGxlbmd0aE9mVmlkZW8gPSB0aGlzLmR1cmF0aW9uOwogICAgICB2YXIgZGF0YSA9IHRoaXMuY2hhcnRfdHVwbGVzOwogICAgICB2YXIgY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbmVDaGFydCcpOwogICAgICB0aGlzLmNoYXJ0Q29uZmlnLm9wdGlvbnMudGl0bGUudGV4dCA9IHRoaXMuc2VsZWN0ZWRfbGFiZWwgPyB0aGlzLnNlbGVjdGVkX2xhYmVsICsgIiAoaW5zdGFuY2VzIC8gc2VjKSIgOiAiVG90YWwgTGFiZWxzIChpbnN0YW5jZXMgLyBzZWMpIjsKCiAgICAgIGlmICh0aGlzLmNoYXJ0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmNoYXJ0ID0gbmV3IENoYXJ0KGN0eCwgewogICAgICAgICAgdHlwZTogdGhpcy5jaGFydENvbmZpZy50eXBlLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBkYXRhc2V0czogW3sKICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgIH1dCiAgICAgICAgICB9LAogICAgICAgICAgb3B0aW9uczogdGhpcy5jaGFydENvbmZpZy5vcHRpb25zCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jaGFydC5vcHRpb25zLnRpdGxlLnRleHQgPSB0aGlzLnNlbGVjdGVkX2xhYmVsID8gdGhpcy5zZWxlY3RlZF9sYWJlbCArICIgKGluc3RhbmNlcyAvIHNlYykiIDogIlRvdGFsIExhYmVscyAoaW5zdGFuY2VzIC8gc2VjKSI7CgogICAgICAgIGlmIChsZW5ndGhPZlZpZGVvKSB7CiAgICAgICAgICB0aGlzLmNoYXJ0Lm9wdGlvbnMuc2NhbGVzLnhBeGVzWzBdLnRpY2tzLm1heCA9IGxlbmd0aE9mVmlkZW8gKiAxMDAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKGxlbmd0aE9mVmlkZW8gPiAzNjAwKSB7CiAgICAgICAgICB0aGlzLmNoYXJ0Lm9wdGlvbnMuc2NhbGVzLnhBeGVzWzBdLnNjYWxlTGFiZWwubGFiZWxTdHJpbmcgPSAiVGltZSAoaGg6bW06c3MpIjsKICAgICAgICB9CgogICAgICAgIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1swXS5kYXRhID0gbnVsbDsKICAgICAgICB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbMF0uZGF0YSA9IGRhdGE7CiAgICAgICAgdGhpcy5jaGFydC5saW5lQXRJbmRleCA9IC4yNTsKICAgICAgICB0aGlzLmNoYXJ0LnVwZGF0ZSgpOwogICAgICB9IC8vIFBsYWNlIGNhbnZhcyBvdmVyIGxpbmUgY2hhcnQKCgogICAgICB2YXIgY2FudmFzX292ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVydGljYWxMaW5lQ2FudmFzJyk7CiAgICAgIGNhbnZhc19vdmVybGF5LndpZHRoID0gdGhpcy5jaGFydC53aWR0aDsKICAgICAgY2FudmFzX292ZXJsYXkuaGVpZ2h0ID0gdGhpcy5jaGFydC5oZWlnaHQ7CiAgICB9LAogICAgZHJhd1ZlcnRpY2xlTGluZTogZnVuY3Rpb24gZHJhd1ZlcnRpY2xlTGluZShwb3NpdGlvbikgewogICAgICB2YXIgY2FudmFzX292ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVydGljYWxMaW5lQ2FudmFzJyk7CiAgICAgIGlmICghY2FudmFzX292ZXJsYXkpIHJldHVybjsKICAgICAgdmFyIGN0eCA9IGNhbnZhc19vdmVybGF5LmdldENvbnRleHQoJzJkJyk7CiAgICAgIGlmICghY3R4IHx8ICF0aGlzLmNoYXJ0KSByZXR1cm47CiAgICAgIHZhciBzY2FsZSA9IHRoaXMuY2hhcnQuc2NhbGVzWyd5LWF4aXMtMSddOwogICAgICB2YXIgbGluZUxlZnRPZmZzZXQgPSAodGhpcy5jaGFydC5jaGFydC5jaGFydEFyZWEucmlnaHQgLSB0aGlzLmNoYXJ0LmNoYXJ0LmNoYXJ0QXJlYS5sZWZ0KSAqIHBvc2l0aW9uICsgdGhpcy5jaGFydC5jaGFydC5jaGFydEFyZWEubGVmdDsKICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXNfb3ZlcmxheS53aWR0aCwgY2FudmFzX292ZXJsYXkuaGVpZ2h0KTsKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2ZmMDAwMCc7CiAgICAgIGN0eC5tb3ZlVG8obGluZUxlZnRPZmZzZXQsIHNjYWxlLnRvcCk7CiAgICAgIGN0eC5saW5lVG8obGluZUxlZnRPZmZzZXQsIHNjYWxlLmJvdHRvbSArIDEwKTsKICAgICAgY3R4LnN0cm9rZSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["LineChart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <b-container>\n    <div v-if=\"isBusy\">\n      <Loading />\n    </div>\n    <div v-else>\n      <div id=\"container\">\n        <canvas id=\"lineChart\" @click=\"handleClick\"></canvas>\n        <canvas id=\"verticalLineCanvas\" class=\"canvas\"></canvas>\n      </div>\n    </div>\n  </b-container>\n</template>\n\n<script>\n  import { mapState } from 'vuex'\n  import Chart from 'chart.js';\n  import Loading from '@/components/Loading.vue'\n\n  export default {\n    name: \"LineChart\",\n    components: {\n      Loading\n    },\n    data() {\n      return {\n        duration: undefined,\n        chartConfig: {},\n        chart: undefined,\n        isBusy: false\n      }\n    },\n    computed: {\n      ...mapState(['chart_tuples', 'selected_label', 'player']),\n    },\n    watch: {\n      chart_tuples: function() {\n        this.renderLineChart();\n      },\n      player: function() {\n        this.getDuration();\n        this.getTimeUpdate();\n        this.renderLineChart();\n      },\n    },\n    deactivated: function () {\n      console.log('deactivated component:', this.operator);\n      this.chart = Object\n    },\n    activated: function () {\n      console.log('activated component:', this.operator)\n    },\n    beforeDestroy: function () {\n      this.chart = Object\n    },\n    mounted: function () {\n      this.chartConfig = {\n        type: 'scatter',\n        data: {\n          labels: [0],\n          datasets: [{\n            data: [0],\n            borderColor: \"#3e95cd\",\n            borderWidth: 3,\n            fill: false,\n            showLine: false\n          }]\n        },\n        options: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: ''\n          },\n          tooltips: {\n            enabled: false\n          },\n          responsive: true,\n          maintainAspectRatio: false,\n          aspectRatio: 1.5,\n          scales: {\n            yAxes: [{\n              display: true,\n              fixedStepSize: 1,\n              scaleLabel: {\n                display: true,\n                labelString: 'Label Quantity'\n              },\n              ticks: {\n                beginAtZero: true,\n                min: 0,\n                padding: 25,\n                callback: function(value) {\n                  if (Math.floor(value) === value) {\n                    return value;\n                  }\n                }\n              }\n            }],\n            xAxes: [{\n              display: true,\n              scaleLabel: {\n                display: true,\n                labelString: 'Time (mm:ss)'\n              },\n              ticks: {\n                beginAtZero: true,\n                minRotation: 30,\n                min: 0,\n                callback: function(milliseconds) {\n                  if (milliseconds >= 3600000) {\n                    return new Date(milliseconds).toISOString().substr(11, 12);\n                  } else {\n                    // drop hours portion if time is less than 1 hour\n                    return new Date(milliseconds).toISOString().substr(14, 9);\n                  }\n                }\n              }\n            }]\n          },\n        }\n      };\n      window.addEventListener('resize', function () {\n        // TODO: set chart and canvas width equal to video player width\n        // TODO: make columns resize equally when resizing window\n        // Update canvas size when window is resized\n        var chart = document.getElementById('lineChart');\n        var canvas_overlay = document.getElementById('verticalLineCanvas');\n        canvas_overlay.width=chart.width;\n        canvas_overlay.height=chart.height;\n\n      });\n    },\n    methods: {\n      handleClick(event) {\n        var canvas_overlay = document.getElementById('verticalLineCanvas');\n        if (canvas_overlay){\n          const chart_width = this.chart.chart.chartArea.right - this.chart.chart.chartArea.left;\n          const chart_left = this.chart.chart.chartArea.left;\n          // Ignore clicks that are on the chart but to the left of the y-axis\n          if (event.offsetX < chart_left) {\n            return\n          }\n          if (this.duration > 0) {\n            // Calculate click position as a percentage of chart width, to 1/10th precision.\n            const percentage = Math.round((event.offsetX - chart_left) / chart_width * 1000) / 10;\n            this.player.currentTime(this.duration * percentage / 100)\n          }\n        }\n      },\n      getDuration() {\n        // Get the duration for the video player source\n        if (this.player) {\n          this.player.on('loadedmetadata', function () {\n            this.duration = this.player.duration();\n          }.bind(this));\n        }\n      },\n      getTimeUpdate() {\n        // Send current time position for the video player to verticalLineCanvas\n        var last_position = 0;\n        if (this.player) {\n          this.player.on('timeupdate', function () {\n            const current_position = Math.round(this.player.currentTime() / this.player.duration() * 1000);\n            if (current_position !== last_position) {\n              this.drawVerticleLine(current_position/1000);\n              last_position = current_position;\n            }\n          }.bind(this));\n        }\n      },\n      renderLineChart() {\n        const lengthOfVideo = this.duration;\n        const data = this.chart_tuples;\n        const ctx = document.getElementById('lineChart');\n        this.chartConfig.options.title.text = this.selected_label ? this.selected_label + \" (instances / sec)\" : \"Total Labels (instances / sec)\";\n        if (this.chart === undefined) {\n          this.chart = new Chart(ctx, {\n            type: this.chartConfig.type,\n            data: {\n              datasets: [{\n                data: data\n              }]\n            },\n            options: this.chartConfig.options,\n          });\n        } else {\n          this.chart.options.title.text = this.selected_label ? this.selected_label + \" (instances / sec)\" : \"Total Labels (instances / sec)\";\n          if (lengthOfVideo) {\n            this.chart.options.scales.xAxes[0].ticks.max = lengthOfVideo*1000;\n          }\n          if (lengthOfVideo > 3600) {\n            this.chart.options.scales.xAxes[0].scaleLabel.labelString = \"Time (hh:mm:ss)\";\n          }\n\n          this.chart.data.datasets[0].data = null;\n          this.chart.data.datasets[0].data = data;\n          this.chart.lineAtIndex = .25;\n          this.chart.update();\n        }\n        // Place canvas over line chart\n        var canvas_overlay = document.getElementById('verticalLineCanvas');\n        canvas_overlay.width=this.chart.width;\n        canvas_overlay.height=this.chart.height;\n      },\n      drawVerticleLine(position) {\n        var canvas_overlay = document.getElementById('verticalLineCanvas');\n        if (!canvas_overlay) return;\n        var ctx = canvas_overlay.getContext('2d');\n        if (!ctx || !this.chart) return;\n        var scale = this.chart.scales['y-axis-1'];\n        var lineLeftOffset = (this.chart.chart.chartArea.right - this.chart.chart.chartArea.left) * position + this.chart.chart.chartArea.left;\n        ctx.clearRect(0, 0, canvas_overlay.width, canvas_overlay.height);\n        ctx.beginPath();\n        ctx.strokeStyle = '#ff0000';\n        ctx.moveTo(lineLeftOffset, scale.top);\n        ctx.lineTo(lineLeftOffset, scale.bottom+10);\n        ctx.stroke();\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #container { position: relative; }\n  .canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    pointer-events: none;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}