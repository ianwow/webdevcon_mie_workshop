{"remainingRequest":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/thread-loader/dist/cjs.js!/Users/ianwow/development/aws-content-analysis/source/website/node_modules/babel-loader/lib/index.js!/Users/ianwow/development/aws-content-analysis/source/website/node_modules/eslint-loader/index.js??ref--13-0!/Users/ianwow/development/aws-content-analysis/source/website/src/router.js","dependencies":[{"path":"/Users/ianwow/development/aws-content-analysis/source/website/src/router.js","mtime":1646845749615},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1633407346687},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/thread-loader/dist/cjs.js","mtime":1633407346686},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/babel-loader/lib/index.js","mtime":1633407348173},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/eslint-loader/index.js","mtime":1633407346906}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9pYW53b3cvZGV2ZWxvcG1lbnQvYXdzLWNvbnRlbnQtYW5hbHlzaXMvc291cmNlL3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IEFuYWx5c2lzIGZyb20gJ0Avdmlld3MvQW5hbHlzaXMudnVlJzsKaW1wb3J0IFVwbG9hZCBmcm9tICdAL3ZpZXdzL1VwbG9hZFRvQVdTUzMudnVlJzsKaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnQC92aWV3cy9Db2xsZWN0aW9uLnZ1ZSc7CmltcG9ydCBMb2dpbiBmcm9tICdAL3ZpZXdzL0xvZ2luLnZ1ZSc7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICdoaXN0b3J5JywKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnL2NvbGxlY3Rpb24nLAogICAgbmFtZTogJ2NvbGxlY3Rpb24nLAogICAgY29tcG9uZW50OiBDb2xsZWN0aW9uLAogICAgbWV0YTogewogICAgICByZXF1aXJlc0F1dGg6IHRydWUKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL3VwbG9hZCcsCiAgICBuYW1lOiAndXBsb2FkJywKICAgIGNvbXBvbmVudDogVXBsb2FkLAogICAgbWV0YTogewogICAgICByZXF1aXJlc0F1dGg6IHRydWUKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnL2FuYWx5c2lzLzphc3NldF9pZCcsCiAgICBuYW1lOiAnYW5hbHlzaXMnLAogICAgY29tcG9uZW50OiBBbmFseXNpcywKICAgIG1ldGE6IHsKICAgICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgICB9CiAgfSwgewogICAgcGF0aDogIi8iLAogICAgbmFtZTogIkxvZ2luIiwKICAgIGNvbXBvbmVudDogTG9naW4sCiAgICBtZXRhOiB7CiAgICAgIHJlcXVpcmVzQXV0aDogZmFsc2UKICAgIH0KICB9XQp9KTsKcm91dGVyLmJlZm9yZVJlc29sdmUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCF0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgICAgICAgIHJldHVybiByZWNvcmQubWV0YS5yZXF1aXJlc0F1dGg7CiAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBWdWUucHJvdG90eXBlLiRBbXBsaWZ5LkF1dGguY3VycmVudEF1dGhlbnRpY2F0ZWRVc2VyKCk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwogICAgICAgICAgICBuZXh0KHsKICAgICAgICAgICAgICBwYXRoOiAiLyIsCiAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgIHJlZGlyZWN0OiB0by5mdWxsUGF0aAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY29uc29sZS5sb2cobmV4dCk7CiAgICAgICAgICAgIG5leHQoKTsKCiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgN11dKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/Users/ianwow/development/aws-content-analysis/source/website/src/router.js"],"names":["Vue","VueRouter","Analysis","Upload","Collection","Login","use","router","mode","base","process","env","BASE_URL","routes","path","name","component","meta","requiresAuth","beforeResolve","to","from","next","matched","some","record","prototype","$Amplify","Auth","currentAuthenticatedUser","console","log","query","redirect","fullPath"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AAEAL,GAAG,CAACM,GAAJ,CAAQL,SAAR;AAEA,IAAMM,MAAM,GAAG,IAAIN,SAAJ,CAAc;AAC3BO,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BC,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,aADR;AAEEC,IAAAA,IAAI,EAAE,YAFR;AAGEC,IAAAA,SAAS,EAAEZ,UAHb;AAIEa,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GADM,EAON;AACEJ,IAAAA,IAAI,EAAE,SADR;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAEb,MAHb;AAIEc,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GAPM,EAaN;AACEJ,IAAAA,IAAI,EAAE,qBADR;AAEEC,IAAAA,IAAI,EAAE,UAFR;AAGEC,IAAAA,SAAS,EAAEd,QAHb;AAIEe,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GAbM,EAmBN;AACEJ,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,IAAI,EAAE,OAFR;AAGEC,IAAAA,SAAS,EAAEX,KAHb;AAIEY,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GAnBM;AAHmB,CAAd,CAAf;AA+BAX,MAAM,CAACY,aAAP;AAAA,qEAAqB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,iBACfF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAACR,IAAP,CAAYC,YAAhB;AAAA,aAAtB,CADe;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAGTlB,GAAG,CAAC0B,SAAJ,CAAcC,QAAd,CAAuBC,IAAvB,CAA4BC,wBAA5B,EAHS;;AAAA;AAIfP,YAAAA,IAAI;AAJW;AAAA;;AAAA;AAAA;AAAA;AAMfQ,YAAAA,OAAO,CAACC,GAAR;AACAT,YAAAA,IAAI,CAAC;AACHR,cAAAA,IAAI,EAAE,GADH;AAEHkB,cAAAA,KAAK,EAAE;AACLC,gBAAAA,QAAQ,EAAEb,EAAE,CAACc;AADR;AAFJ,aAAD,CAAJ;;AAPe;AAenBJ,YAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;AACAA,YAAAA,IAAI;;AAhBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;;AAAA;AAAA;AAAA;AAAA;AAmBA,eAAef,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Analysis from '@/views/Analysis.vue'\nimport Upload from '@/views/UploadToAWSS3.vue'\nimport Collection from '@/views/Collection.vue'\nimport Login from '@/views/Login.vue'\n\nVue.use(VueRouter);\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/collection',\n      name: 'collection',\n      component: Collection,\n      meta: { requiresAuth: true }\n    },\n    {\n      path: '/upload',\n      name: 'upload',\n      component: Upload,\n      meta: { requiresAuth: true }\n    },\n    {\n      path: '/analysis/:asset_id',\n      name: 'analysis',\n      component: Analysis,\n      meta: { requiresAuth: true }\n    },\n    {\n      path: \"/\",\n      name: \"Login\",\n      component: Login,\n      meta: { requiresAuth: false },\n    }\n  ]\n});\n\nrouter.beforeResolve(async (to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    try {\n      await Vue.prototype.$Amplify.Auth.currentAuthenticatedUser();\n      next();\n    } catch (e) {\n      console.log(e);\n      next({\n        path: \"/\",\n        query: {\n          redirect: to.fullPath\n        }\n      });\n    }\n  }\n  console.log(next);\n  next();\n});\n\nexport default router;\n"]}]}