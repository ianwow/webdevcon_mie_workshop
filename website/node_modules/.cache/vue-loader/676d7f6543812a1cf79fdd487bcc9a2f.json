{"remainingRequest":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ianwow/development/aws-content-analysis/source/website/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ianwow/development/aws-content-analysis/source/website/src/views/Login.vue","mtime":1623875433290},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1633407346687},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/thread-loader/dist/cjs.js","mtime":1633407346686},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/babel-loader/lib/index.js","mtime":1633407348173},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/cache-loader/dist/cjs.js","mtime":1633407346687},{"path":"/Users/ianwow/development/aws-content-analysis/source/website/node_modules/vue-loader/lib/index.js","mtime":1633407348650}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwovLyBIYWNrIHRvIHdvcmsgYXJvdW5kIGEgYnVnIGluIGFtcGxpZnktYXV0aGVudGljYXRvciwgd2hpY2ggbWFrZXMgaXQgc28gaXQKLy8gZG9lc24ndCBub3RpY2UgaWYgYSB1c2VybmFtZSBpcyBhdXRvZmlsbGVkIHJhdGhlciB0aGFuIGJlaW5nIHR5cGVkIGluLgovLyBUaGlzIHdvcmsgYXJvdW5kIGVuYWJsZXMgdGhlIDFwYXNzd29yZCBicm93c2VyIHBsdWdpbiB0byBhdXRvZmlsbAovLyB1c2VybmFtZSBhbmQgcGFzc3dvcmQuCi8vCi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYXdzLWFtcGxpZnkvYW1wbGlmeS1qcy9pc3N1ZXMvNDM3NAovLwovLyBUaGlzIGhhY2sgY2FuIGJlIHJlbW92ZWQgb25jZSB0aGUgaXNzdWUgaXMgcmVzb2x2ZWQuCmZ1bmN0aW9uIHBhdGNoU2lnbkluICgpIHsKICAvLyBtb25rZXktcGF0Y2ggdGhlIFVzZXJuYW1lRmllbGQgY29tcG9uZW50LCBhbmQgYWRkIGEgd2F0Y2hlciB0byBtYWtlIGl0IHByb3Blcmx5IGVtaXQgYSBjaGFuZ2VkCiAgLy8gZXZlbnQgd2hlbiB0aGUgdXNlcm5hbWUgZmllbGQgY2hhbmdlcwogIGxldCB1c2VybmFtZUNvbXBvbmVudCA9IFZ1ZS5jb21wb25lbnQoJ2FtcGxpZnktdXNlcm5hbWUtZmllbGQnKTsKICBsZXQgd2F0Y2hlcyA9IHVzZXJuYW1lQ29tcG9uZW50Lm9wdGlvbnMud2F0Y2ggPSB1c2VybmFtZUNvbXBvbmVudC5vcHRpb25zLndhdGNoIHx8IHt9OwogIHdhdGNoZXMudXNlcm5hbWUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnVzZXJuYW1lQ2hhbmdlZCgpCiAgfTsKICB3YXRjaGVzLmVtYWlsID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5lbWFpbENoYW5nZWQoKQogIH0KfQppbXBvcnQgVnVlIGZyb20gJ3Z1ZScKcGF0Y2hTaWduSW4oKTsKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vCgppbXBvcnQgeyBBbXBsaWZ5RXZlbnRCdXMgfSBmcm9tICJhd3MtYW1wbGlmeS12dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBBbXBsaWZ5RXZlbnRCdXMuJG9uKCJhdXRoU3RhdGUiLCBldmVudEluZm8gPT4gewogICAgICBpZiAoZXZlbnRJbmZvID09PSAic2lnbmVkSW4iKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiY29sbGVjdGlvbiIgfSk7CiAgICAgIH0gZWxzZSBpZiAoZXZlbnRJbmZvID09PSAic2lnbmVkT3V0IikgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIkxvZ2luIiB9KTsKICAgICAgfQogICAgfSk7CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMb2dpblN0YXR1cygpCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMb2dpblN0YXR1cyAoKSB7CiAgICAgIHRoaXMuJEFtcGxpZnkuQXV0aC5jdXJyZW50U2Vzc2lvbigpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgdGhpcy5zZXNzaW9uID0gZGF0YTsKICAgICAgICBpZiAodGhpcy5zZXNzaW9uID09IG51bGwpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyIG11c3QgbG9naW4nKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogImNvbGxlY3Rpb24ifSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <amplify-authenticator></amplify-authenticator>\n  </div>\n</template>\n\n<script>\n//-----------------------------------------------------------//\n// Hack to work around a bug in amplify-authenticator, which makes it so it\n// doesn't notice if a username is autofilled rather than being typed in.\n// This work around enables the 1password browser plugin to autofill\n// username and password.\n//\n// See https://github.com/aws-amplify/amplify-js/issues/4374\n//\n// This hack can be removed once the issue is resolved.\nfunction patchSignIn () {\n  // monkey-patch the UsernameField component, and add a watcher to make it properly emit a changed\n  // event when the username field changes\n  let usernameComponent = Vue.component('amplify-username-field');\n  let watches = usernameComponent.options.watch = usernameComponent.options.watch || {};\n  watches.username = function () {\n    this.usernameChanged()\n  };\n  watches.email = function () {\n    this.emailChanged()\n  }\n}\nimport Vue from 'vue'\npatchSignIn();\n//-----------------------------------------------------------//\n\nimport { AmplifyEventBus } from \"aws-amplify-vue\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {};\n  },\n  mounted() {\n    AmplifyEventBus.$on(\"authState\", eventInfo => {\n      if (eventInfo === \"signedIn\") {\n        this.$router.push({ name: \"collection\" });\n      } else if (eventInfo === \"signedOut\") {\n        this.$router.push({ name: \"Login\" });\n      }\n    });\n  },\n  created() {\n    this.getLoginStatus()\n  },\n  methods: {\n    getLoginStatus () {\n      this.$Amplify.Auth.currentSession().then(data => {\n        this.session = data;\n        if (this.session == null) {\n          console.log('user must login')\n        } else {\n          this.$router.push({name: \"collection\"})\n        }\n      })\n    }\n  }\n};\n</script>\n\n<style scoped>\n</style>\n"]}]}